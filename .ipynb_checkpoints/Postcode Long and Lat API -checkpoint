{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "id": "9c5e8f9f-b822-4163-9727-85a57b6cce79",
   "metadata": {
    "tags": []
   },
   "outputs": [],
   "source": [
    "import requests"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "244f7fa0-a98d-4fd4-b695-8f0c174f3f7b",
   "metadata": {},
   "outputs": [],
   "source": [
    "api_key = geoapify_key"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "id": "0af810c0-6001-46fd-ab92-8349ab2a2b25",
   "metadata": {
    "tags": []
   },
   "outputs": [],
   "source": [
    "url = f'https://api.geoapify.com/v1/geocode/search?text={postcode}&lang=en&limit=10&type=postcode&filter=countrycode:au&apiKey=74846ab433d64f9cb90dd4a6ad839794'"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "id": "f917df28-7039-4d7e-840a-bd4b8320b53f",
   "metadata": {
    "tags": []
   },
   "outputs": [],
   "source": [
    "response = requests.get(url)\n",
    "response_json = response.json()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "afeb32fb-90f2-457f-b270-50cb3c0258bc",
   "metadata": {},
   "outputs": [],
   "source": [
    "for code in postcodes ----- :\n",
    "\n",
    "    if response_json['query']['text'] == POSTCODE \n",
    "    \n",
    "    average_prices.append['LONG'] = response_json['features'][0]['properties']['lon']\n",
    "    average_prices.append['LAT'] =response_json['features'][0]['properties']['lat']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "id": "1e424c51-82f8-42c8-b351-7e839b4c2a4f",
   "metadata": {
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'type': 'FeatureCollection',\n",
       " 'features': [{'type': 'Feature',\n",
       "   'properties': {'result_type': 'postcode',\n",
       "    'suburb': 'Cockburn Central',\n",
       "    'city': 'City Of Cockburn',\n",
       "    'state': 'Western Australia',\n",
       "    'postcode': '6164',\n",
       "    'country': 'Australia',\n",
       "    'country_code': 'au',\n",
       "    'datasource': {'sourcename': 'openstreetmap',\n",
       "     'attribution': '© OpenStreetMap contributors',\n",
       "     'license': 'Open Database License',\n",
       "     'url': 'https://www.openstreetmap.org/copyright'},\n",
       "    'state_code': 'WA',\n",
       "    'lon': 115.845600902,\n",
       "    'lat': -32.118906106,\n",
       "    'formatted': 'Cockburn Central (City Of Cockburn) WA 6164, Australia',\n",
       "    'address_line1': 'Cockburn Central (City Of Cockburn) WA 6164',\n",
       "    'address_line2': 'Australia',\n",
       "    'category': 'administrative',\n",
       "    'timezone': {'name': 'Australia/Perth',\n",
       "     'offset_STD': '+08:00',\n",
       "     'offset_STD_seconds': 28800,\n",
       "     'offset_DST': '+08:00',\n",
       "     'offset_DST_seconds': 28800,\n",
       "     'abbreviation_STD': 'AWST',\n",
       "     'abbreviation_DST': 'AWST'},\n",
       "    'plus_code': '4PVQVRJW+C6',\n",
       "    'plus_code_short': 'VRJW+C6 City Of Cockburn, Western Australia, Australia',\n",
       "    'rank': {'popularity': 1.8787187686910034,\n",
       "     'confidence': 1,\n",
       "     'confidence_city_level': 1,\n",
       "     'match_type': 'full_match'},\n",
       "    'place_id': '51b8e33e531ef65c40594848b650380f40c0f00101f901cf5cb20000000000c00207920307363136342b6175'},\n",
       "   'geometry': {'type': 'Point',\n",
       "    'coordinates': [115.845600902, -32.118906106]},\n",
       "   'bbox': [115.835651, -32.129309, 115.859411, -32.109806]}],\n",
       " 'query': {'text': '6164',\n",
       "  'parsed': {'postcode': '6164', 'expected_type': 'unknown'}}}"
      ]
     },
     "execution_count": 7,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "response_json"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "id": "5deb37bd-e289-4b9b-9373-c5ce0e3b1e4b",
   "metadata": {
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "115.845600902"
      ]
     },
     "execution_count": 19,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "response_json['features'][0]['properties']['lon']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "id": "89a84baa-abea-4145-a2f4-30f37af289de",
   "metadata": {
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'6164'"
      ]
     },
     "execution_count": 22,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "cfce4f82-fb1b-4c88-91e3-b2366b428132",
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "“PythonData”",
   "language": "python",
   "name": "pythondata"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.11.4"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
